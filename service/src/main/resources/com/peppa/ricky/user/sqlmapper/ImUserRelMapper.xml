<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.onlyou.im.user.sqlmapper.ImUserRelMapper">

    <select id="getImUserByImUserId" parameterType="java.util.Map" resultType="com.onlyou.im.user.vo.ImUserAccountShowVO">
        select t1.im_user_id,t2.nick_name,t2.icon as icon,t2.icon_thumb as iconThumb,t2.easemob_name as imUserName,t1.user_type as userType
        from t_onlyou_im_user_rel t1
        left join t_onlyou_im_user t2 on t1.im_user_id = t2.id
        where t1.user_id in(
        select user_id from t_onlyou_im_user_rel where im_user_id = #{imUserId})
        order by t2.create_ts
    </select>
</mapper>